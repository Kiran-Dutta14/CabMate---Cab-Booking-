<div class = "dashboard">    
    <!-- Sidebar (shared across all admin pages) -->
  <app-sidebar></app-sidebar>

  <!-- Right content -->
  <div class="main-content">
    
    <div class="navbar">
        <h3>Drivers</h3>
        </div>
        
        <div class="management">
        <div class="header">
            <div>
            <h2>Driver Management</h2>
            <p>Manage all registered drivers</p>
            </div>
            <button class="add-btn" (click)="openAddDriverModal()">+ Add New Driver</button>
        </div>

        <div class="filters">
            <input type="text" placeholder="Search drivers..." [(ngModel)]="searchTerm" (input)="applyFilter()">
            <select [(ngModel)]="selectedStatus" (change)="filterByStatus()">
            <option value="">All Status</option>
            <option value="Active">Active</option>
            <option value="Suspended">Suspended</option>
            </select>
        </div>

        <div class="table">
            <table>
            <thead>
                <tr>
                <th>Driver</th>
                <th>Contact</th>
                <th>License</th>
                <th>Status</th>
                <th>Rating</th>
                <th>Earnings</th>
                <th>Joined</th>
                <th>Actions</th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let d of filteredDrivers">
                <td>
                    <strong>{{ d.name }}</strong><br>
                    <span class="email">{{ d.email }}</span>
                </td>
                <td>{{ d.phone }}</td>
                <td>{{ d.licenseNumber }}</td>
                <td>
                    <span class="badge" [ngClass]="d.status">{{ d.status }}</span>
                </td>
                <td>‚≠ê {{ d.rating }}</td>
                <td>‚Çπ{{ d.earnings }}</td>
                <td>{{ d.joined }}</td>
                <td>
                    <button class="icon-btn">üëÅ</button>
                    <button class="icon-btn">‚úè</button>
                </td>
                </tr>
            </tbody>
            </table>
        </div>
    </div>
    </div>
</div>

<!-- Add Driver Modal -->
<div class="modal" *ngIf="showAddDriverModal">
  <div class="modal-content">
    <h2 class="modal-title">Add New Driver</h2>

    <form (ngSubmit)="addDriver()" #driverForm="ngForm" class="driver-form">

      <div class="form-group">
        <label>Full Name</label>
        <input type="text" [(ngModel)]="newDriver.name" name="name" required placeholder="Enter full name" />
      </div>

      <div class="form-group">
        <label>Phone Number</label>
        <input type="text" [(ngModel)]="newDriver.phone" name="phone" required placeholder="Enter phone number" />
      </div>

      <div class="form-group">
        <label>Email</label>
        <input type="email" [(ngModel)]="newDriver.email" name="email" required placeholder="Enter email address" />
      </div>

      <div class="form-group">
        <label>License Number</label>
        <input type="text" [(ngModel)]="newDriver.licenseNumber" name="licenseNumber" required placeholder="Enter license number" />
      </div>

      <div class="form-group">
        <label>Status</label>
        <select [(ngModel)]="newDriver.status" name="status">
          <option value="Active">Active</option>
          <option value="Suspended">Suspended</option>
        </select>
      </div>

      <div class="modal-actions">
        <button type="button" class="btn-cancel" (click)="closeAddDriverModal()">Cancel</button>
        <button type="submit" class="btn-submit" [disabled]="driverForm.invalid">Add Driver</button>
      </div>
    </form>
  </div>
</div>
